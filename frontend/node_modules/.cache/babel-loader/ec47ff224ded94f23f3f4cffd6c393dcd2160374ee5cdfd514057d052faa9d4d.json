{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\A-max\\\\Desktop\\\\e-commerce-store-master\\\\frontend\\\\src\\\\screens\\\\ProductScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getProductDetails } from '../redux/actions/productActions';\nimport { addToCart } from '../redux/actions/cartActions';\nimport Comment from \"../components/comment\";\nimport './ProductScreen.css'; // Import custom CSS if needed\nimport { submitComment } from '../redux/actions/commentActions';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProductScreen = ({\n  match,\n  history\n}) => {\n  _s();\n  const [qty, setQty] = useState(1);\n  const user = useSelector(state => state.user);\n  const dispatch = useDispatch();\n  const productDetails = useSelector(state => state.getProductDetails);\n  const {\n    loading,\n    error,\n    product\n  } = productDetails;\n\n  // Fetch product details\n  useEffect(() => {\n    if (product && match.params.id !== product._id) {\n      dispatch(getProductDetails(match.params.id));\n    }\n  }, [dispatch, match, product]);\n\n  // Add to cart handler\n  const addToCartHandler = () => {\n    if (user.userInfo.isLogin) {\n      dispatch(addToCart(product._id, qty));\n      history.push(`/cart`);\n    } else {\n      alert('You need to first login.');\n    }\n  };\n  const handleSubmitComment = commentData => {\n    dispatch(submitComment(commentData));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-4\",\n    children: loading ? /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"left__image\",\n            children: product.imageUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n              src: product.imageUrl.startsWith('http') || product.imageUrl.startsWith('https') ? product.imageUrl : `/upload/${product.imageUrl}`,\n              alt: product.name,\n              className: \"img-fluid\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"left__info\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"left__name\",\n              children: product.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Price: $\", product.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Description: \", product.description]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"right__info\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Price: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"$\", product.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 26\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Status:\", ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n                children: product.countInStock > 0 ? 'In Stock' : 'Out of Stock'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Qty\", /*#__PURE__*/_jsxDEV(\"select\", {\n                value: qty,\n                onChange: e => setQty(e.target.value),\n                className: \"form-select\",\n                children: [...Array(product.countInStock).keys()].map(x => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: x + 1,\n                  children: x + 1\n                }, x + 1, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: addToCartHandler,\n                className: \"btn btn-primary\",\n                children: \"Add To Cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Comment, {\n        onSubmit: submitComment\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductScreen, \"C/pY8vpsmVi+/TAHuuh3CCQ9obA=\", false, function () {\n  return [useSelector, useDispatch, useSelector];\n});\n_c = ProductScreen;\nexport default ProductScreen;\nvar _c;\n$RefreshReg$(_c, \"ProductScreen\");","map":{"version":3,"names":["React","useEffect","useState","useSelector","useDispatch","getProductDetails","addToCart","Comment","submitComment","jsxDEV","_jsxDEV","Fragment","_Fragment","ProductScreen","match","history","_s","qty","setQty","user","state","dispatch","productDetails","loading","error","product","params","id","_id","addToCartHandler","userInfo","isLogin","push","alert","handleSubmitComment","commentData","className","children","fileName","_jsxFileName","lineNumber","columnNumber","imageUrl","src","startsWith","alt","name","price","description","countInStock","value","onChange","e","target","Array","keys","map","x","type","onClick","onSubmit","_c","$RefreshReg$"],"sources":["C:/Users/A-max/Desktop/e-commerce-store-master/frontend/src/screens/ProductScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getProductDetails } from '../redux/actions/productActions';\nimport { addToCart } from '../redux/actions/cartActions';\nimport Comment from \"../components/comment\"\nimport './ProductScreen.css'; // Import custom CSS if needed\nimport { submitComment } from '../redux/actions/commentActions';\nconst ProductScreen = ({ match, history }) => {\n  const [qty, setQty] = useState(1);\n  const user = useSelector((state) => state.user);\n  const dispatch = useDispatch();\n\n  const productDetails = useSelector((state) => state.getProductDetails);\n  const { loading, error, product } = productDetails;\n\n  // Fetch product details\n  useEffect(() => {\n    if (product && match.params.id !== product._id) {\n      dispatch(getProductDetails(match.params.id));\n    }\n  }, [dispatch, match, product]);\n\n  // Add to cart handler\n  const addToCartHandler = () => {\n    if (user.userInfo.isLogin) {\n      dispatch(addToCart(product._id, qty));\n      history.push(`/cart`);\n    } else {\n      alert('You need to first login.');\n    }\n  };\n\n  const handleSubmitComment = (commentData) => {\n    dispatch(submitComment(commentData));\n  };\n\n\n  return (\n    <div className=\"container mt-4\">\n      {loading ? (\n        <h2>Loading...</h2>\n      ) : error ? (\n        <h2>{error}</h2>\n      ) : (\n        <>\n          <div className=\"row\">\n            <div className=\"col-md-6\">\n              <div className=\"left__image\">\n                {product.imageUrl && (\n                  <img\n                    src={\n                      product.imageUrl.startsWith('http') ||\n                      product.imageUrl.startsWith('https')\n                        ? product.imageUrl\n                        : `/upload/${product.imageUrl}`\n                    }\n                    alt={product.name}\n                    className=\"img-fluid\"\n                  />\n                )}\n              </div>\n              <div className=\"left__info\">\n                <p className=\"left__name\">{product.name}</p>\n                <p>Price: ${product.price}</p>\n                <p>Description: {product.description}</p>\n              </div>\n            </div>\n            <div className=\"col-md-6\">\n              <div className=\"right__info\">\n                <p>\n                  Price: <span>${product.price}</span>\n                </p>\n                <p>\n                  Status:{' '}\n                  <span>\n                    {product.countInStock > 0 ? 'In Stock' : 'Out of Stock'}\n                  </span>\n                </p>\n                <p>\n                  Qty\n                  <select\n                    value={qty}\n                    onChange={(e) => setQty(e.target.value)}\n                    className=\"form-select\"\n                  >\n                    {[...Array(product.countInStock).keys()].map((x) => (\n                      <option key={x + 1} value={x + 1}>\n                        {x + 1}\n                      </option>\n                    ))}\n                  </select>\n                </p>\n                <p>\n                  <button\n                    type=\"button\"\n                    onClick={addToCartHandler}\n                    className=\"btn btn-primary\"\n                  >\n                    Add To Cart\n                  </button>\n                </p>\n              </div>\n            </div>\n          </div>\n          {/* Display Comment component */}\n          <Comment onSubmit={submitComment} />\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default ProductScreen;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}