{"ast":null,"code":"import { Api } from '../../utils/Api';\nimport * as actionTypes from '../constants/userContants';\nexport const setUserDetails = () => async dispatch => {\n  const {\n    statusCode,\n    data\n  } = await Api.getRequest(`/api/user/me`);\n  // console.log({statusCode, data})\n  if (statusCode === 400 || statusCode === 500) {\n    dispatch({\n      type: actionTypes.SET_INITIAL_STATE\n    });\n    return;\n  }\n  const {\n    user\n  } = JSON.parse(data);\n  // console.log(user);\n  dispatch({\n    type: actionTypes.SET_USER,\n    payload: {\n      isLogin: true,\n      role: user.role,\n      details: {\n        ...user\n      }\n    }\n  });\n};\nexport const setInitialState = () => async dispatch => {\n  dispatch({\n    type: actionTypes.SET_INITIAL_STATE\n  });\n};","map":{"version":3,"names":["Api","actionTypes","setUserDetails","dispatch","statusCode","data","getRequest","type","SET_INITIAL_STATE","user","JSON","parse","SET_USER","payload","isLogin","role","details","setInitialState"],"sources":["C:/Users/A-max/Desktop/e-commerce-store-master/frontend/src/redux/actions/userAction.js"],"sourcesContent":["import {Api} from '../../utils/Api'\nimport * as actionTypes from '../constants/userContants'\n\nexport const setUserDetails = () => async dispatch => {\n  const {statusCode, data} = await Api.getRequest(`/api/user/me`)\n  // console.log({statusCode, data})\n  if (statusCode === 400 || statusCode === 500) {\n    dispatch({\n      type: actionTypes.SET_INITIAL_STATE,\n    })\n    return\n  }\n  const {user} = JSON.parse(data)\n  // console.log(user);\n  dispatch({\n    type: actionTypes.SET_USER,\n    payload: {\n      isLogin: true,\n      role:user.role,\n      details: {...user},\n    },\n  })\n}\n\nexport const setInitialState = () => async dispatch => {\n  dispatch({\n    type: actionTypes.SET_INITIAL_STATE,\n  })\n}\n"],"mappings":"AAAA,SAAQA,GAAG,QAAO,iBAAiB;AACnC,OAAO,KAAKC,WAAW,MAAM,2BAA2B;AAExD,OAAO,MAAMC,cAAc,GAAGA,CAAA,KAAM,MAAMC,QAAQ,IAAI;EACpD,MAAM;IAACC,UAAU;IAAEC;EAAI,CAAC,GAAG,MAAML,GAAG,CAACM,UAAU,CAAE,cAAa,CAAC;EAC/D;EACA,IAAIF,UAAU,KAAK,GAAG,IAAIA,UAAU,KAAK,GAAG,EAAE;IAC5CD,QAAQ,CAAC;MACPI,IAAI,EAAEN,WAAW,CAACO;IACpB,CAAC,CAAC;IACF;EACF;EACA,MAAM;IAACC;EAAI,CAAC,GAAGC,IAAI,CAACC,KAAK,CAACN,IAAI,CAAC;EAC/B;EACAF,QAAQ,CAAC;IACPI,IAAI,EAAEN,WAAW,CAACW,QAAQ;IAC1BC,OAAO,EAAE;MACPC,OAAO,EAAE,IAAI;MACbC,IAAI,EAACN,IAAI,CAACM,IAAI;MACdC,OAAO,EAAE;QAAC,GAAGP;MAAI;IACnB;EACF,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMQ,eAAe,GAAGA,CAAA,KAAM,MAAMd,QAAQ,IAAI;EACrDA,QAAQ,CAAC;IACPI,IAAI,EAAEN,WAAW,CAACO;EACpB,CAAC,CAAC;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}